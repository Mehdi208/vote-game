<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Qui est ton candidat ?</title>
<style>
body {
    margin:0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #0a0a0a, #1c1c1c);
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
    color:white;
}
.floating { position:absolute; border-radius:20px; background: rgba(255,255,255,0.05); backdrop-filter: blur(10px); animation: float 6s ease-in-out infinite;}
.floating.big { width:120px;height:120px;top:50px;left:60px;}
.floating.medium { width:90px;height:90px;bottom:80px;right:100px; animation-delay:1s;}
@keyframes float {0%{transform:translateY(0px);}50%{transform:translateY(-20px);}100%{transform:translateY(0px);}}

.card-container {
    text-align:center;
    backdrop-filter: blur(12px);
    border-radius:25px;
    width:380px;
    padding:40px;
    border:1px solid rgba(255,255,255,0.1);
    box-shadow:0 20px 40px rgba(0,0,0,0.4);
    background: rgba(255,255,255,0.1);
    position:relative;
    z-index:1;
}

h1 { font-size:2rem; margin-bottom:30px; }

.candidate-card {
    background: rgba(0,0,0,0.4);
    border-radius:20px;
    padding:25px;
    margin:15px 0;
    cursor:pointer;
    transition: transform 0.3s, box-shadow 0.3s;
    font-size:1.2rem;
    font-weight:bold;
    color:white;
    position:relative;
}
.candidate-card:hover { transform: scale(1.05); box-shadow: 0 0 25px rgba(255,255,255,0.3);}
.mehdi { background: linear-gradient(90deg,#ff0050,#00f2ea);}
.tiemele { background:#333;}

#result {
    display:none;
    margin-top:20px;
    font-size:1.3rem;
    font-weight:bold;
    opacity:0;
    animation: fadeIn 0.5s forwards;
}
@keyframes fadeIn { from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }

#scoreboard { margin-top:20px; text-align:left;}
.score-item { margin-top:10px;}
.score-label { font-size:1rem; margin-bottom:4px;}
.score-bar { height:14px; border-radius:10px; background:#222; overflow:hidden; border:1px solid #444;}
.score-fill { height:100%; width:0%; transition:0.4s ease;}
.mehdi-bar { background: linear-gradient(90deg,#ff0050,#ff7db8);}
.tiemele-bar { background: linear-gradient(90deg,#00f2ea,#008c99);}
</style>
</head>
<body>

<div class="floating big"></div>
<div class="floating medium"></div>

<div class="card-container" id="game">
    <h1>Qui est ton candidat ?</h1>

    <div class="candidate-card mehdi" onclick="vote('Mehdi')">M√©hdi Traor√©</div>
    <div class="candidate-card tiemele" onclick="vote('Tiemele')">Ti√©m√©l√© Yoen</div>

    <div id="result"></div>

    <div id="scoreboard">
        <div class="score-item">
            <div class="score-label">M√©hdi : <span id="scoreMehdi">0</span></div>
            <div class="score-bar"><div class="score-fill mehdi-bar" id="barMehdi"></div></div>
        </div>
        <div class="score-item">
            <div class="score-label">Ti√©m√©l√© : <span id="scoreTiemele">0</span></div>
            <div class="score-bar"><div class="score-fill tiemele-bar" id="barTiemele"></div></div>
        </div>
    </div>
</div>

<script>
// --- SCORE LOCAL (sans rechargement) ---
let scores = { Mehdi:0, Tiemele:0 };
const winningCandidate = 'Mehdi';

function loadScores() {
    const total = scores.Mehdi + scores.Tiemele;
    document.getElementById("scoreMehdi").innerText = scores.Mehdi;
    document.getElementById("scoreTiemele").innerText = scores.Tiemele;
    document.getElementById("barMehdi").style.width = total ? (scores.Mehdi/total*100)+"%" : "0%";
    document.getElementById("barTiemele").style.width = total ? (scores.Tiemele/total*100)+"%" : "0%";
}

function vote(candidat){
    scores[candidat]++;
    showResult(candidat);
    loadScores();
}

function showResult(candidat){
    const result = document.getElementById('result');
    if(candidat === winningCandidate){
        result.innerHTML = "üéâ F√©licitations ! Tu as gagn√© un d√©jeuner gratuit !";
        result.style.color="#00f2ea";
        launchConfetti();
    } else {
        result.innerHTML = "‚ùå Dommage‚Ä¶ Tu as perdu !";
        result.style.color="#ff0050";
    }
    result.style.display='block';
}

function launchConfetti(){
    const count=100;
    for(let i=0;i<count;i++){
        const confetti=document.createElement('div');
        confetti.style.position='absolute';
        confetti.style.width='8px';
        confetti.style.height='8px';
        confetti.style.background=`hsl(${Math.random()*360},100%,50%)`;
        confetti.style.top=Math.random()*window.innerHeight+'px';
        confetti.style.left=Math.random()*window.innerWidth+'px';
        confetti.style.opacity='0.7';
        confetti.style.borderRadius='50%';
        confetti.style.pointerEvents='none';
        document.body.appendChild(confetti);
        animateConfetti(confetti);
    }
}

function animateConfetti(el){
    let top=parseFloat(el.style.top);
    const id=setInterval(()=>{
        top+=2+Math.random()*3;
        el.style.top=top+'px';
        el.style.transform=`rotate(${Math.random()*360}deg)`;
        if(top>window.innerHeight){el.remove();clearInterval(id);}
    },16);
}

// --- INITIALISATION ---
loadScores();
</script>

</body>
</html>
